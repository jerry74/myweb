<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>2025 å¯Œåœ‹å³¶è¦ªå­ä¹‹æ—…</title>
    
    <!-- å¼•å…¥ Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- å¼•å…¥ React å’Œ Babel -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        /* éš±è—æ»¾å‹•æ¢ä½†ä¿ç•™åŠŸèƒ½ */
        .hide-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .hide-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        /* iOS å®‰å…¨å€åŸŸé©é… */
        .pb-safe {
            padding-bottom: env(safe-area-inset-bottom, 20px);
        }
        body {
            -webkit-tap-highlight-color: transparent;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        }
        /* å‹•ç•«æ•ˆæœ */
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }
        .animate-float {
            animation: float 3s ease-in-out infinite;
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- åœ–ç¤ºçµ„ä»¶ (SVG) ---
        const IconBase = ({ children, size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>{children}</svg>
        );

        const Icons = {
            Plane: (props) => <IconBase {...props}><path d="M2 22h20"/><path d="M20.5 10.5a2.5 2.5 0 0 0-2.5-2.5H12L8.5 2H2v6l3.5 3.5L2 19h16v3"/></IconBase>,
            Hotel: (props) => <IconBase {...props}><path d="M2 22h20"/><path d="M10 2h4a2 2 0 0 1 2 2v1h-8V4a2 2 0 0 1 2-2Z"/><path d="M4 10h16v10H4z"/><path d="M10 10v10"/><path d="M16 5v5"/><path d="M8 5v5"/></IconBase>,
            MapPin: (props) => <IconBase {...props}><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></IconBase>,
            Sun: (props) => <IconBase {...props}><circle cx="12" cy="12" r="4"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/></IconBase>,
            Moon: (props) => <IconBase {...props}><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"/></IconBase>,
            Utensils: (props) => <IconBase {...props}><path d="M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2"/><path d="M7 2v20"/><path d="M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7"/></IconBase>,
            Camera: (props) => <IconBase {...props}><path d="M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"/><circle cx="12" cy="13" r="3"/></IconBase>,
            ShoppingBag: (props) => <IconBase {...props}><path d="M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z"/><path d="M3 6h18"/><path d="M16 10a4 4 0 0 1-8 0"/></IconBase>,
            Ticket: (props) => <IconBase {...props}><path d="M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z"/><path d="M13 5v2"/><path d="M13 17v2"/><path d="M13 11v2"/></IconBase>,
            Info: (props) => <IconBase {...props}><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></IconBase>,
            X: (props) => <IconBase {...props}><path d="M18 6 6 18"/><path d="m6 6 12 12"/></IconBase>,
            ChevronRight: (props) => <IconBase {...props}><path d="m9 18 6-6-6-6"/></IconBase>,
            Calendar: (props) => <IconBase {...props}><rect width="18" height="18" x="3" y="4" rx="2" ry="2"/><line x1="16" x2="16" y1="2" y2="6"/><line x1="8" x2="8" y1="2" y2="6"/><line x1="3" x2="21" y1="10" y2="10"/></IconBase>,
            Map: (props) => <IconBase {...props}><polygon points="3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21"/><line x1="9" x2="9" y1="3" y2="18"/><line x1="15" x2="15" y1="6" y2="21"/></IconBase>,
            CloudSun: (props) => <IconBase {...props}><path d="M12 2v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="M20 12h2"/><path d="m19.07 4.93-1.41 1.41"/><path d="M15.947 12.65a4 4 0 0 0-5.925-4.128"/><path d="M13 22H7a5 5 0 1 1 4.9-6H13a3 3 0 0 1 0 6Z"/></IconBase>,
            Clock: (props) => <IconBase {...props}><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></IconBase>,
            ArrowRight: (props) => <IconBase {...props}><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></IconBase>,
            Coffee: (props) => <IconBase {...props}><path d="M17 8h1a4 4 0 1 1 0 8h-1"/><path d="M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z"/><line x1="6" x2="6" y1="2" y2="4"/><line x1="10" x2="10" y1="2" y2="4"/><line x1="14" x2="14" y1="2" y2="4"/></IconBase>,
            CheckCircle: (props) => <IconBase {...props}><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></IconBase>
        };

        // --- æ•¸æ“šè³‡æ–™ ---

        const itineraryData = [
          {
            day: 1,
            date: "11æœˆ29æ—¥ (å…­)",
            title: "æŠµé”èˆ‡å¤œå¸‚é«”é©—",
            hotel: {
              name: "å¡”å¸Œæä¸­å¤®æµ·æ™¯é£¯åº—",
              sub: "Tahiti Central Hotel",
              checkIn: "14:00",
              checkOut: "12:00",
              note: "ğŸˆ² æ¦´æ§¤ã€å±±ç«¹å…¥å…§",
              locationQuery: "Tahiti Central Hotel Phu Quoc"
            },
            events: [
              {
                time: "14:00",
                endTime: "16:50",
                title: "é£›å¾€å¯Œåœ‹å³¶",
                type: "flight",
                icon: Icons.Plane,
                location: "æ¡ƒåœ’æ©Ÿå ´ (TPE) -> å¯Œåœ‹å³¶ (PQC)",
                desc: "èˆªç­ VJ845ã€‚æŠµé”å¾Œè¾¦ç†å…¥å¢ƒæ‰‹çºŒï¼Œé ˜å–è¡Œæã€‚",
                detail: {
                  info: "è¶Šæ·èˆªç©º VJ845",
                  seat: "ç¶“æ¿Ÿè‰™",
                  terminal: "T1 (æ¡ƒåœ’) -> PQC"
                }
              },
              {
                time: "17:30",
                title: "é£¯åº— Check-in",
                type: "hotel",
                icon: Icons.Hotel,
                location: "å¡”å¸Œæä¸­å¤®æµ·æ™¯é£¯åº—",
                desc: "ä½æ–¼ä¸­éƒ¨æ¥Šæ±é®ï¼Œäº¤é€šä¾¿åˆ©ã€‚",
                mapQuery: "Tahiti Central Hotel Phu Quoc"
              },
              {
                time: "18:00",
                title: "é£¯åº—å‘¨é‚Šè¦ªå­ç¾é£Ÿ (å£è¢‹åå–®)",
                type: "food",
                icon: Icons.Utensils,
                location: "Tran Hung Dao è·¯ (é£¯åº—æ­¥è¡Œåœˆ)",
                desc: "è‹¥ä¸å»å¤œå¸‚çš„æ›¿ä»£æ–¹æ¡ˆã€‚Xin Chao æµ·æ™¯é¤å»³ã€Crab House èŸ¹å±‹ã€‚",
                mapQuery: "Xin Chao Seafood Restaurant Phu Quoc",
                detail: {
                  "Xin Chao (æ¬£æŸ¥å¥§)": "66 Tran Hung Dao (æ­¥è¡Œåƒ… 3 åˆ†é˜ï¼Œå°±åœ¨é£¯åº—æ–œå°é¢)ã€‚æµ·æ™¯å„ªç¾ï¼Œç’°å¢ƒèˆ’é©è¡›ç”Ÿï¼Œé©åˆå¸¶é•·è¼©èˆ‡å°å­©ã€‚",
                  "Crab House (èŸ¹å±‹)": "26 Nguyen Trai (è»Šç¨‹ç´„ 5 åˆ†é˜)ã€‚ç¾å¼è‚¯ç“Šé¢¨å‘³æ‰‹æŠ“æµ·é®®ï¼Œæ°£æ°›æ­¡æ¨‚ï¼Œå°æœ‹å‹æœƒå–œæ­¡ã€‚",
                  "Bun Quay Kien Xay": "28 Bach Dang (é è¿‘å¤œå¸‚)ã€‚å¿…åƒã€Œå®¢å®¶æ”ªæ‹Œç±³ç²‰ã€ï¼Œé«”é©—DIYé†¬æ–™æ¨‚è¶£ã€‚"
                }
              },
              {
                time: "18:40",
                title: "å‰å¾€å¤œå¸‚äº¤é€š",
                type: "transport",
                icon: Icons.MapPin,
                location: "é£¯åº— -> å¤œå¸‚ (è·é›¢ç´„ 1km)",
                desc: "é¸æ“‡æ­¥è¡Œæˆ–æ­è»Šå‰å¾€ã€‚",
                detail: {
                  "æ­¥è¡Œ": "ç´„ 10-15 åˆ†é˜ã€‚å‡ºé£¯åº—å·¦è½‰æ²¿ Tran Hung Dao è·¯ç›´è¡Œã€‚",
                  "è¨ˆç¨‹è»Š/Grab": "ç´„ 3 åˆ†é˜ã€‚è»Šè³‡ç´„ 20,000 - 30,000 VNDã€‚"
                }
              },
              {
                time: "19:00",
                title: "å¯Œåœ‹å³¶å¤œå¸‚ (Phu Quoc Night Market)",
                type: "food",
                icon: Icons.Utensils,
                location: "æ¥Šæ±é®ä¸­å¿ƒ",
                desc: "æ™šé¤è‡ªç†ã€‚æ¨è–¦ï¼šç‚’å†°ã€æ¤°å­å†°æ·‡æ·‹ã€æµ·é®®å¤§æ’æª”ã€æ³•æ£ã€‚",
                mapQuery: "Phu Quoc Night Market",
                detail: {
                  tips: "ç•¶åœ°åç¨±ï¼šChá»£ ÄÃªm PhÃº Quá»‘cã€‚äººå¤šè«‹æ³¨æ„éš¨èº«è²¡ç‰©ã€‚",
                  mustEat: "çƒ¤æµ·è†½ã€æ¤°å­ç³–"
                }
              }
            ]
          },
          {
            day: 2,
            date: "11æœˆ30æ—¥ (æ—¥)",
            title: "æ¡è²·èˆ‡å—éƒ¨é¢¨æƒ…",
            hotel: {
              name: "å¯Œåœ‹ç¿¡ç¿ ç£é«˜ç´šå…¬å¯“",
              sub: "Premier Residences Emerald Bay",
              checkIn: "15:00",
              checkOut: "12:00",
              note: "æ—©é¤ 06:30-10:00 | ğŸ“ å—éƒ¨ Khem Beach",
              locationQuery: "Premier Residences Phu Quoc Emerald Bay"
            },
            events: [
              {
                time: "07:00",
                title: "æ—©é¤æ™‚å…‰",
                type: "food",
                icon: Icons.Coffee,
                location: "Tahiti Central Hotel",
                desc: "ä¾›æ‡‰æ™‚é–“ï¼š06:30 - 09:30ã€‚ä½æ–¼é£¯åº—é¤å»³ã€‚",
              },
              {
                time: "07:45",
                title: "å‰å¾€è¶…å¸‚äº¤é€š",
                type: "transport",
                icon: Icons.MapPin,
                location: "é£¯åº— -> Kingkong Mart (ç´„ 2.9km)",
                desc: "ä½æ–¼åŒæ¢è·¯ (Tran Hung Dao) å—æ–¹ï¼Œè·é›¢ç¨é ã€‚",
                detail: {
                  "è¨ˆç¨‹è»Š/Grab": "æ¨è–¦ã€‚è»Šç¨‹ç´„ 6-8 åˆ†é˜ï¼Œè»Šè³‡ç´„ 30,000 - 50,000 VNDã€‚",
                  "æ­¥è¡Œ": "ç´„ 35-40 åˆ†é˜ (å¤©æ°£ç‚ç†±ï¼Œä¸å»ºè­°æ­¥è¡Œ)ã€‚"
                }
              },
              {
                time: "08:00",
                title: "Kingkong Mart æ¡è²·",
                type: "shopping",
                icon: Icons.ShoppingBag,
                location: "ä¸­éƒ¨æ¥Šæ±é®",
                desc: "å¯Œåœ‹å³¶æœ€å¤§è¶…å¸‚ï¼Œè³¼è²·ä¼´æ‰‹ç¦®ã€é›¶é£Ÿã€ç‰›å¥¶ã€é˜²æ›¬ä¹³ã€‚",
                mapQuery: "Kingkong Mart Phu Quoc",
                detail: {
                  tips: "å¿…è²·ï¼šè…°æœã€èƒ¡æ¤’ã€G7å’–å•¡ã€Simé…’ã€‚",
                  location_context: "è·é›¢å¤œå¸‚ (å¸‚ä¸­å¿ƒ) ç´„ 2.5kmï¼Œæ²¿ Tran Hung Dao è·¯ç›´è¡Œå¯é”ã€‚"
                }
              },
              {
                time: "12:00",
                title: "Sao Beach (ç™½æ²™ç˜)",
                type: "activity",
                icon: Icons.Sun,
                location: "æ±å—éƒ¨æµ·å²¸",
                desc: "åˆé¤æ¨è–¦ Paradiso Restaurantã€‚ç©æ²™ã€ç¶²ç´…é¦éŸ†ã€‚",
                mapQuery: "Sao Beach Phu Quoc"
              },
              {
                time: "16:00",
                title: "é£¯åº— Check-in",
                type: "hotel",
                icon: Icons.Hotel,
                location: "å¯Œåœ‹ç¿¡ç¿ ç£é«˜ç´šå…¬å¯“",
                mapQuery: "Premier Residences Phu Quoc Emerald Bay"
              },
              {
                time: "17:30",
                title: "æ—¥è½å°é® (Sunset Town)",
                type: "sightseeing",
                icon: Icons.Camera,
                location: "å—éƒ¨å®‰æ³°é®",
                desc: "åœ°ä¸­æµ·é¢¨æ ¼å»ºç¯‰ã€‚æ™šé¤æ¨è–¦ï¼šSorrento (æŠ«è–©) æˆ– Runamã€‚",
                mapQuery: "Sunset Town Phu Quoc"
              },
              {
                time: "21:00",
                title: "æµ·æ´‹ä¹‹å» (Kiss of the Sea)",
                type: "show",
                icon: Icons.Ticket,
                location: "æ—¥è½å°é®æµ·ç˜",
                desc: "çµåˆæ°´èˆã€ç«èˆèˆ‡é«˜ç©ºç…™ç«çš„å£“è»¸ç§€ã€‚",
                mapQuery: "Kiss of the Sea show Phu Quoc"
              }
            ]
          },
          {
            day: 3,
            date: "12æœˆ01æ—¥ (ä¸€)",
            title: "å¥¢è¯åº¦å‡èˆ‡å¤œé‡£",
            hotel: {
              name: "æ–°ä¸–ç•Œå¯Œåœ‹å³¶åº¦å‡æ‘",
              sub: "New World Phu Quoc Resort",
              checkIn: "15:00",
              checkOut: "12:00",
              note: "æ—©é¤ 07:00-10:30 | ç§äººæ³³æ± åˆ¥å¢…",
              locationQuery: "New World Phu Quoc Resort"
            },
            events: [
              {
                time: "07:30",
                title: "æ—©é¤æ™‚å…‰",
                type: "food",
                icon: Icons.Coffee,
                location: "Mercato Restaurant",
                desc: "ä¾›æ‡‰æ™‚é–“ï¼š06:30 - 10:00ã€‚ç›¡æƒ…äº«ç”¨äº”æ˜Ÿç´šè‡ªåŠ©é¤ã€‚",
              },
              {
                time: "12:00",
                title: "é£¯åº—è½‰æ› & é€€æˆ¿",
                type: "transport",
                icon: Icons.Hotel,
                location: "Premier Residences -> New World (ç´„ 750m)",
                desc: "ä¸­åˆ 12:00 é€€æˆ¿ã€‚å…©é–“é£¯åº—çš†ä½æ–¼ Khem Beachï¼Œè·é›¢æ¥µè¿‘ã€‚",
                detail: {
                  "è¨ˆç¨‹è»Š/Grab": "ç´„ 2 åˆ†é˜ã€‚å»ºè­°æ­è»Šæ¬é‹è¡Œæã€‚",
                  "æ­¥è¡Œ": "ç´„ 10 åˆ†é˜ (æ²¿æµ·ç˜æˆ–é“è·¯)ã€‚"
                }
              },
              {
                time: "12:15",
                title: "Check-in & å¯„æ”¾è¡Œæ",
                type: "hotel",
                icon: Icons.Hotel,
                location: "æ–°ä¸–ç•Œåº¦å‡æ‘",
                desc: "äº«å—ç§äººæµ·ç˜ï¼Œè¦–æ½®æ±ç‹€æ³è¶•æµ·æ•èŸ¹ã€‚",
                mapQuery: "New World Phu Quoc Resort"
              },
              {
                time: "14:00",
                title: "é£¯åº—è¨­æ–½æ‰“æ··",
                type: "relax",
                icon: Icons.Sun,
                location: "é£¯åº—å…§",
                desc: "ç§äººæ³³æ± æ¸¸æ³³ã€å…’ç«¥ä¿±æ¨‚éƒ¨ã€‚"
              },
              {
                time: "17:00",
                title: "æ—¥è½å¤œé‡£ (Night Fishing)",
                type: "activity",
                icon: Icons.Moon,
                location: "å—éƒ¨ç¢¼é ­å‡ºæµ·",
                desc: "è§€è³æ—¥è½ -> é‡£å¢¨é­šé«”é©— -> èˆ¹ä¸Šäº«ç”¨æµ·é®®ç²¥/ç‚’éºµã€‚",
                detail: {
                  tips: "èˆ¹å®¶æœƒæä¾›é‡£å…·ã€‚å»ºè­°å®¹æ˜“æšˆèˆ¹è€…æå‰åƒè—¥ã€‚"
                }
              }
            ]
          },
          {
            day: 4,
            date: "12æœˆ02æ—¥ (äºŒ)",
            title: "è·¨æµ·çºœè»Šèˆ‡æ°´æ¨‚åœ’",
            hotel: {
              name: "æ–°ä¸–ç•Œå¯Œåœ‹å³¶åº¦å‡æ‘",
              sub: "çºŒä½",
              checkIn: "-",
              checkOut: "12:00",
              note: "å¥½å¥½äº«å—è¨­æ–½",
              locationQuery: "New World Phu Quoc Resort"
            },
            events: [
              {
                time: "08:00",
                title: "æ—©é¤æ™‚å…‰",
                type: "food",
                icon: Icons.Coffee,
                location: "The Bay Kitchen",
                desc: "ä¾›æ‡‰æ™‚é–“ï¼š07:00 - 10:30ã€‚äº«å—æ‚ é–’çš„åº¦å‡æ—©é¤ã€‚",
              },
              {
                time: "09:00",
                title: "SUP æ¼¿æ¿ç©æ°´",
                type: "activity",
                icon: Icons.Sun,
                location: "é£¯åº—ç§äººæµ·ç˜",
                desc: "ä¸Šåˆæµ·æ³é€šå¸¸è¼ƒå¹³éœï¼Œé©åˆç©æ°´ã€‚"
              },
              {
                time: "13:30",
                title: "å¤ªé™½ä¸–ç•Œé¦™å³¶æ¨‚åœ’",
                type: "activity",
                icon: Icons.Ticket,
                location: "Hon Thom Island",
                desc: "æ­ä¹˜ä¸–ç•Œæœ€é•·è·¨æµ·çºœè»Šã€‚éŠç© Aquatopia æ°´æ¨‚åœ’ (æ¼‚æ¼‚æ²³ã€å…’ç«¥æˆ²æ°´å€)ã€‚",
                mapQuery: "An Thoi Cable Car Station",
                detail: {
                  tips: "çºœè»Šå–®ç¨‹ç´„20åˆ†é˜ã€‚è¨˜å¾—å¸¶æ³³è¡£ã€æµ´å·¾ã€‚"
                }
              },
              {
                time: "17:30",
                title: "è¦ªå»æ©‹ (Kiss Bridge)",
                type: "sightseeing",
                icon: Icons.Camera,
                location: "æ—¥è½å°é®",
                desc: "å¤•é™½æœ€ä½³è§€è³é»ã€‚æ¬£è³å®Œæ—¥è½å¾Œå¯æº–å‚™çœ‹ç§€ã€‚",
                mapQuery: "Kiss Bridge Phu Quoc"
              },
              {
                time: "18:00",
                title: "æ—¥è½å°é®è¡¨æ¼”æ™‚åˆ»è¡¨ (é€±äºŒ)",
                type: "show",
                icon: Icons.Ticket,
                location: "Sunset Town / Vui-Fest Bazaar",
                desc: "âš ï¸ æ³¨æ„ï¼šé€±äºŒã€Œæµ·æ´‹ä¹‹å»ã€åœæ¼”ã€‚æ¨è–¦è§€è³ä»¥ä¸‹ç¯€ç›®ï¼š",
                mapQuery: "Sunset Town Phu Quoc",
                detail: {
                  "18:00 - Love Hurricane": "æ„›æƒ…é¢¶é¢¨ (æ°´ä¸Šç‰¹æŠ€ç§€)ï¼šçµåˆæ°´ä¸Šæ‘©æ‰˜è»Š (Jetski) èˆ‡é£›æ¿ (Flyboard) çš„é«˜é›£åº¦æ¼”å‡ºã€‚åœ°é»ï¼šKiss Bridge æµ·ç£ã€‚",
                  "19:00 - Vui-Fest Street Show": "Loáº£ng Xoáº£ng Show (å»šå…·æ•²æ“Šæ¨‚) & Tinh TÆ°Æ¡m Show (é¦¬æˆ²é›œè€)ã€‚åœ°é»ï¼šVui-Fest å¤œå¸‚ã€‚",
                  "19:30 - è¶Šå¼æœ¨å¶æˆ²": "è¶Šå—å‚³çµ±æ°´ä¸Šæœ¨å¶æˆ²ã€‚åœ°é»ï¼šæµ·ç˜ A Æ i åŠ‡é™¢ã€‚",
                  "20:00 - Symphony of the Sea": "å¤§æµ·äº¤éŸ¿æ›²ï¼šçµåˆé¼“æ¨‚ã€æ——èˆèˆ‡æ¥µé™é‹å‹•çš„å¤œé–“ç§€ã€‚åœ°é»ï¼šKiss Bridge æµ·ç£ã€‚"
                }
              }
            ]
          },
          {
            day: 5,
            date: "12æœˆ03æ—¥ (ä¸‰)",
            title: "ç§»å‹•è‡³åŒ—éƒ¨ä¸å¤œåŸ",
            hotel: {
              name: "æº«å¾·å§†èŠ±åœ’å¤§ä¸–ç•Œé£¯åº—",
              sub: "Wyndham Garden Grandworld",
              checkIn: "14:00",
              checkOut: "12:00",
              note: "æ—©é¤ 06:00-10:00 | ä½æ–¼åŒ—å³¶ä¸å¤œåŸ",
              locationQuery: "Wyndham Garden Grandworld Phu Quoc"
            },
            events: [
              {
                time: "08:00",
                title: "æ—©é¤æ™‚å…‰",
                type: "food",
                icon: Icons.Coffee,
                location: "The Bay Kitchen",
                desc: "ä¾›æ‡‰æ™‚é–“ï¼š07:00 - 10:30ã€‚",
              },
              {
                time: "12:00",
                title: "é€€æˆ¿ & ç§»å‹•",
                type: "transport",
                icon: Icons.MapPin,
                location: "å—éƒ¨ -> åŒ—éƒ¨",
                desc: "ä¸­åˆ 12:00 é€€æˆ¿å¾Œå‡ºç™¼ã€‚è»Šç¨‹ç´„ 1 - 1.5 å°æ™‚ã€‚",
              },
              {
                time: "18:00",
                title: "å¯Œåœ‹å¤§ä¸–ç•Œ (Grand World)",
                type: "sightseeing",
                icon: Icons.Moon,
                location: "Grand World",
                desc: "å¨å°¼æ–¯é‹æ²³ã€ç«¹é€ å‚³å¥‡å»ºç¯‰ã€‚æ™šé¤åœ¨æ­¤è§£æ±ºã€‚",
                mapQuery: "Grand World Phu Quoc"
              },
              {
                time: "18:30",
                title: "åŒ—å³¶è¦ªå­ç¾é£Ÿå£è¢‹åå–®",
                type: "food",
                icon: Icons.Utensils,
                location: "Grand World / Almaz",
                desc: "Madame Thao (è¶Šå¼å®¶å¸¸)ã€Pizza Taxi (å°å­©æœ€æ„›)ã€Bach Giai (ç™¾ä½³ä¸­é¤å»³)ã€‚",
                mapQuery: "Madame Thao Grand World",
                detail: {
                  "Madame Thao": "è¶Šå¼å®¶å¸¸èœï¼Œå£å‘³é©ä¸­ï¼Œç’°å¢ƒä¹¾æ·¨ï¼Œé©åˆå®¶åº­ç”¨é¤ã€‚",
                  "Bach Giai (ç™¾ä½³)": "ä½æ–¼ Almaz ä¸­å¿ƒï¼Œæä¾›ç²¾ç·»ä¸­é¤ï¼Œè‹¥æƒ³å¿µä¸­å¼ç†±ç‚’å¯é¸ã€‚",
                  "Pizza Taxi": "å£å‘³æ¥å—åº¦é«˜ï¼Œæœ‰ç¾©å¤§åˆ©éºµèˆ‡æŠ«è–©ï¼Œå°å­©æœ€æ„›ã€‚",
                  "JMT Korean": "éŸ“å¼æ–™ç†ï¼Œå°èœè±å¯Œï¼Œä¹Ÿæ˜¯æ›å£å‘³çš„å¥½é¸æ“‡ã€‚"
                }
              },
              {
                time: "20:15",
                title: "è¶Šå—åœ‹ç²¹ (Quintessence of Vietnam)",
                type: "show",
                icon: Icons.Ticket,
                location: "Grand World (Tinh Hoa Vietnam Area)",
                desc: "å¤§å‹å¯¦æ™¯å¤šåª’é«”ç§€ï¼Œçµåˆ3Då…‰é›•èˆ‡æ°´èˆï¼Œæ¼”ç¹¹è¶Šå—æ­·å²æ–‡åŒ–ã€‚",
                mapQuery: "The Quintessence of Vietnam Grand World Phu Quoc",
                detail: {
                  tips: "æ¼”å‡ºæ™‚é–“ 20:15 - 21:00ã€‚å»ºè­°æå‰å…¥å ´ã€‚å ´é¢éœ‡æ’¼ï¼Œå€¼å¾—ä¸€çœ‹ã€‚",
                  price: "ç´„ 300,000 VND (æˆäºº)"
                }
              }
            ]
          },
          {
            day: 6,
            date: "12æœˆ04æ—¥ (å››)",
            title: "çç æ¨‚åœ’ VinWonders",
            hotel: {
              name: "æº«å¾·å§†èŠ±åœ’å¤§ä¸–ç•Œé£¯åº—",
              sub: "çºŒä½",
              checkIn: "-",
              checkOut: "12:00",
              note: "è¨˜å¾—è¨­é¬§é˜ï¼Œæ˜å¤©å»Safari",
              locationQuery: "Wyndham Garden Grandworld Phu Quoc"
            },
            events: [
              {
                time: "07:30",
                title: "æ—©é¤æ™‚å…‰",
                type: "food",
                icon: Icons.Coffee,
                location: "Nautilus Restaurant",
                desc: "ä¾›æ‡‰æ™‚é–“ï¼š06:00 - 10:00ã€‚",
              },
              {
                time: "09:00",
                title: "å¯Œåœ‹å³¶çç éŠæ¨‚åœ’",
                type: "activity",
                icon: Icons.Ticket,
                location: "VinWonders",
                desc: "å…¨æ—¥éŠç©ã€‚è«‹å…ˆç¢ºèªå…’ç«¥æµ·æ´‹ç”Ÿç‰©å­¸é«”é©—é›†åˆåœ°é»ã€‚",
                mapQuery: "VinWonders Phu Quoc",
                detail: {
                  tips: "100cm+ å…’ç«¥å¯ç©å¤§å¤šå®¶åº­è¨­æ–½ã€‚"
                }
              },
              {
                time: "10:00",
                endTime: "12:00",
                title: "å…’ç«¥æµ·æ´‹ç”Ÿç‰©å­¸é«”é©— (Junior Marine Biologist)",
                type: "activity",
                icon: Icons.Ticket,
                location: "æ°´æ—é¤¨ (The Sea Shell)",
                desc: "10:00 - 12:00 é«”é©—æ´»å‹•ã€‚è®“å­©å­åŒ–èº«å°å°ç”Ÿç‰©å­¸å®¶ï¼Œæ¢ç´¢æµ·æ´‹å¥§ç§˜ã€‚",
              },
              {
                time: "12:30",
                title: "æµ·åº•é¤å»³åˆé¤",
                type: "food",
                icon: Icons.Utensils,
                location: "Deep Sea Cafeteria",
                desc: "åœ¨å·¨å‹æ°´æ—ç®±æ—ç”¨é¤ï¼Œèˆ‡é­šå…’å…±é€²åˆé¤ã€‚",
                mapQuery: "Deep Sea Cafeteria VinWonders"
              },
              {
                time: "14:00",
                title: "äººé­šè¡¨æ¼” (Mermaid Show)",
                type: "show",
                icon: Icons.Camera,
                location: "æ°´æ—é¤¨ (The Sea Shell)",
                desc: "14:00 å ´æ¬¡ã€‚æ¬£è³äººé­šå…¬ä¸»åœ¨æ°´åº•çš„æ›¼å¦™èˆå§¿ã€‚",
                detail: {
                  tips: "å»ºè­°æå‰ 15 åˆ†é˜å‰å¾€æ°´æ—é¤¨å¤§æ°´æ§½å‰ä½”ä½ã€‚"
                }
              },
              {
                time: "18:45",
                title: "ONCE Show åŸå ¡ç…™ç«ç§€",
                type: "show",
                icon: Icons.Sun,
                location: "é³³å‡°ç«å»£å ´",
                desc: "3DæŠ•å½±+æ°´èˆ+ç…™ç«å¯¦æ™¯ç§€ã€‚å¿…çœ‹ï¼",
                detail: {
                  tips: "å»ºè­°æå‰ 20 åˆ†é˜å¡ä½ã€‚ä½ç½®é¸å»£å ´ä¸­å¤®åå¾Œã€‚"
                }
              },
              {
                time: "21:30",
                title: "å¨å°¼æ–¯çš„è‰²å½©",
                type: "show",
                icon: Icons.Moon,
                location: "Grand World æ„›ä¹‹æ¹–",
                desc: "æ°´å¹•æŠ•å½±ç§€ã€‚"
              }
            ]
          },
          {
            day: 7,
            date: "12æœˆ05æ—¥ (äº”)",
            title: "é‡ç”Ÿå‹•ç‰©åœ’ Safari",
            hotel: {
              name: "æº«å¾·å§†èŠ±åœ’å¤§ä¸–ç•Œé£¯åº—",
              sub: "çºŒä½",
              checkIn: "-",
              checkOut: "12:00",
              note: "æ•´ç†è¡Œæï¼Œæ˜å¤©å›ç¨‹",
              locationQuery: "Wyndham Garden Grandworld Phu Quoc"
            },
            events: [
              {
                time: "07:30",
                title: "æ—©é¤æ™‚å…‰",
                type: "food",
                icon: Icons.Coffee,
                location: "Nautilus Restaurant",
                desc: "ä¾›æ‡‰æ™‚é–“ï¼š06:00 - 10:00ã€‚",
              },
              {
                time: "09:00",
                title: "æ­ä¹˜ Safari Bus (æœ€ä½³æ™‚æ®µ)",
                type: "activity",
                icon: Icons.Camera,
                location: "Vinpearl Safari çŒ›ç¸å€",
                desc: "å»ºè­°ä¸€æ—©å…¥åœ’å…ˆå»æ­ä¹˜ï¼Œæ­¤æ™‚å‹•ç‰©æœ€æ´»èºï¼Œä¸”ä¸éœ€æ’éšŠå¤ªä¹…ã€‚",
                mapQuery: "Vinpearl Safari Phu Quoc"
              },
              {
                time: "10:00",
                title: "Kids Zoo é¤µé£Ÿå‹•ç‰© (æœ€ä½³æ™‚æ®µ)",
                type: "activity",
                icon: Icons.Ticket,
                location: "Kids Zoo å€åŸŸ",
                desc: "ä¸Šåˆæ™‚æ®µå‹•ç‰©é£Ÿæ…¾è¼ƒå¥½ï¼Œé©åˆäº’å‹•æ‹ç…§ã€‚",
                detail: {
                  tips: "å¯å…è²»é ˜å–é£¼æ–™æˆ–ç¾å ´è³¼è²·ã€‚"
                }
              },
              {
                time: "12:00",
                title: "é•·é ¸é¹¿é¤å»³åˆé¤",
                type: "food",
                icon: Icons.Utensils,
                location: "Giraffe Restaurant",
                desc: "è³¼è²·ç´…è˜¿è””æ¢ (30k VND) è¦ªæ‰‹é¤µé•·é ¸é¹¿ã€‚",
                mapQuery: "Giraffe Restaurant Phu Quoc"
              },
              {
                time: "14:30",
                title: "å°å°ä¿è‚²å“¡ (Junior Zoo Keeper)",
                type: "activity",
                icon: Icons.Ticket,
                location: "Kids Zoo å€åŸŸ",
                desc: "14:30 å ´æ¬¡ã€‚é«”é©—ç…§é¡§å°å‹•ç‰©ã€æ¸…ç†ç’°å¢ƒã€‚",
                mapQuery: "Vinpearl Safari Phu Quoc",
                detail: {
                  tips: "åé¡æœ‰é™ï¼Œå»ºè­°å…¥åœ’å¾Œå„˜æ—©å‰å¾€ Kids Zoo è©¢å•æˆ–é ç´„ã€‚",
                  highlight: "å¯“æ•™æ–¼æ¨‚çš„è¦ªå­é«”é©—"
                }
              },
              {
                time: "16:30",
                title: "æ³°è¿ªç†Šåšç‰©é¤¨ (Teddy Bear Museum)",
                type: "sightseeing",
                icon: Icons.Ticket,
                location: "Grand World å…§",
                desc: "å‹•ç‰©åœ’è¡Œç¨‹çµæŸå¾Œå‰å¾€ã€‚æ”¶è—è±å¯Œæ³°è¿ªç†Šï¼Œé©åˆè¦ªå­æ‹ç…§ã€‚",
                mapQuery: "Teddy Bear Museum Phu Quoc"
              },
              {
                time: "19:00",
                title: "å¤œéŠé‡ç”Ÿå‹•ç‰©åœ’ (Night Safari)",
                type: "activity",
                icon: Icons.Moon,
                location: "Vinpearl Safari",
                desc: "éœ€æå‰é ç´„ã€‚è§€å¯Ÿå¤œè¡Œæ€§å‹•ç‰©ã€‚",
                detail: {
                  tips: "è‹¥ç„¡é ç´„åˆ°ï¼Œå¯æ”¹çœ‹ã€Šè¶Šå—ç²¾é«“ã€‹è¡¨æ¼”ã€‚"
                }
              }
            ]
          },
          {
            day: 8,
            date: "12æœˆ06æ—¥ (å…­)",
            title: "è¿”ç¨‹",
            hotel: {
              name: "ç”œèœœçš„å®¶",
              sub: "Sweet Home",
              checkIn: "-",
              checkOut: "-",
              note: "-",
              locationQuery: ""
            },
            events: [
              {
                time: "06:00",
                title: "é€€æˆ¿ & å‰å¾€æ©Ÿå ´",
                type: "transport",
                icon: Icons.MapPin,
                location: "å‰å¾€ PQC æ©Ÿå ´",
                desc: "é ç•™ 40-50 åˆ†é˜è»Šç¨‹ã€‚",
              },
              {
                time: "06:30",
                title: "æ—©é¤æ™‚å…‰",
                type: "food",
                icon: Icons.Coffee,
                location: "å¤–å¸¶æˆ–æ©Ÿå ´ä½¿ç”¨",
                desc: "å› å‡ºç™¼è¼ƒæ—©ï¼Œå»ºè­°å‰ä¸€æ™šè«‹é£¯åº—æº–å‚™æ—©é¤ç›’ (Breakfast Box)ã€‚",
              },
              {
                time: "08:25",
                title: "é£›å¾€å°åŒ—",
                type: "flight",
                icon: Icons.Plane,
                location: "å¯Œåœ‹å³¶ (PQC) -> æ¡ƒåœ’ (TPE)",
                desc: "èˆªç­ VJ844ã€‚é è¨ˆ 13:00 æŠµé”ã€‚",
                detail: {
                  info: "è¶Šæ·èˆªç©º VJ844",
                  seat: "ç¶“æ¿Ÿè‰™",
                  arrival: "13:00 TPE"
                }
              }
            ]
          }
        ];

        // --- çµ„ä»¶ ---

        const WelcomeScreen = ({ onStart, countdownText, status }) => (
            <div className="fixed inset-0 z-50 bg-gradient-to-br from-blue-600 to-teal-500 flex flex-col items-center justify-center text-white px-6">
                <div className="absolute top-0 left-0 w-full h-full opacity-10 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]"></div>
                <div className="animate-float mb-8">
                    <Icons.Plane size={80} />
                </div>
                <h1 className="text-4xl font-bold mb-2 text-center">2025 å¯Œåœ‹å³¶ä¹‹æ—…</h1>
                <p className="text-lg text-blue-100 mb-8 text-center font-medium tracking-wide">2025.11.29 - 12.06</p>
                <div className="bg-white/20 backdrop-blur-sm rounded-xl p-6 mb-10 max-w-xs w-full border border-white/30 shadow-lg">
                    <div className="text-center">
                        {status === 'before' && (
                            <>
                                <p className="text-sm text-blue-100 mb-1">è·é›¢å‡ºç™¼é‚„æœ‰</p>
                                <p className="text-2xl font-bold font-mono">{countdownText}</p>
                            </>
                        )}
                        {status === 'ended' && (
                            <>
                                <Icons.CheckCircle size={48} className="mx-auto mb-2 text-teal-300" />
                                <p className="text-2xl font-bold">å·²å®Œæˆæ—…ç¨‹</p>
                                <p className="text-sm text-blue-100 mt-1">æœŸå¾…ä¸‹æ¬¡æ—…è¡Œï¼</p>
                            </>
                        )}
                    </div>
                </div>
                <button 
                    onClick={onStart}
                    className="group relative bg-white text-teal-600 font-bold py-4 px-10 rounded-full shadow-xl hover:shadow-2xl transition-all active:scale-95 flex items-center gap-2"
                >
                    <span>{status === 'ended' ? 'å›é¡§è¡Œç¨‹' : 'é–‹å§‹æ—…ç¨‹'}</span>
                    <Icons.ArrowRight size={20} className="group-hover:translate-x-1 transition-transform" />
                </button>
                <p className="absolute bottom-8 text-xs text-blue-200/60">Designed for your Family Trip</p>
            </div>
        );

        const Modal = ({ isOpen, onClose, title, children, mapQuery }) => {
          if (!isOpen) return null;
          return (
            <div className="fixed inset-0 z-50 flex items-center justify-center px-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200">
              <div className="bg-white w-full max-w-sm rounded-2xl shadow-2xl overflow-hidden transform transition-all scale-100">
                <div className="bg-teal-600 p-4 flex justify-between items-center">
                  <h3 className="text-white font-bold text-lg truncate pr-4">{title}</h3>
                  <button onClick={onClose} className="text-white/80 hover:text-white p-1 rounded-full hover:bg-white/10 transition-colors">
                    <Icons.X size={24} />
                  </button>
                </div>
                <div className="p-6 space-y-4 max-h-[70vh] overflow-y-auto">
                  {children}
                  {mapQuery && (
                    <a 
                      href={`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(mapQuery)}`}
                      target="_blank" 
                      rel="noreferrer"
                      className="flex items-center justify-center w-full gap-2 bg-teal-50 text-teal-700 py-3 rounded-xl font-semibold hover:bg-teal-100 transition-colors mt-4 border border-teal-200"
                    >
                      <Icons.Map size={20} />
                      é–‹å•Ÿ Google Maps å°èˆª
                    </a>
                  )}
                </div>
              </div>
            </div>
          );
        };

        const WeatherWidget = () => {
          return (
            <div className="flex items-center gap-2 bg-white/20 backdrop-blur-md rounded-full px-3 py-1 text-white text-sm font-medium border border-white/30">
              <Icons.CloudSun size={16} />
              <span>28Â°C</span>
              <span className="opacity-70">|</span>
              <span>å¯Œåœ‹å³¶</span>
            </div>
          );
        };

        const DayTab = ({ day, date, isActive, onClick }) => (
          <button
            onClick={onClick}
            className={`flex-shrink-0 flex flex-col items-center justify-center px-4 py-2 rounded-xl transition-all duration-300 min-w-[80px] snap-center ${
              isActive 
                ? 'bg-teal-600 text-white shadow-lg scale-105 ring-2 ring-teal-200' 
                : 'bg-white text-slate-500 hover:bg-slate-50 border border-slate-200'
            }`}
          >
            <span className={`text-xs font-bold uppercase tracking-wider ${isActive ? 'text-teal-100' : 'text-slate-400'}`}>Day {day}</span>
            <span className="text-sm font-bold whitespace-nowrap mt-0.5">{date.split(' ')[0]}</span>
          </button>
        );

        const TimelineItem = ({ event, isLast, onOpenModal }) => {
          const Icon = event.icon;
          return (
            <div className="relative pl-8 pb-8 group">
              {/* é€£æ¥ç·š */}
              {!isLast && (
                <div className="absolute left-[11px] top-8 bottom-0 w-[2px] bg-slate-200 group-hover:bg-teal-200 transition-colors"></div>
              )}
              
              {/* æ™‚é–“é»åœ“åœˆ */}
              <div className={`absolute left-0 top-1.5 w-6 h-6 rounded-full border-2 flex items-center justify-center bg-white z-10 shadow-sm transition-all duration-300 ${
                event.type === 'flight' ? 'border-blue-500 text-blue-500' :
                event.type === 'hotel' ? 'border-purple-500 text-purple-500' :
                event.type === 'food' ? 'border-orange-500 text-orange-500' :
                'border-teal-500 text-teal-500'
              }`}>
                <div className={`w-2 h-2 rounded-full ${
                   event.type === 'flight' ? 'bg-blue-500' :
                   event.type === 'hotel' ? 'bg-purple-500' :
                   event.type === 'food' ? 'bg-orange-500' :
                   'bg-teal-500'
                }`} />
              </div>

              {/* å¡ç‰‡å…§å®¹ */}
              <div 
                className="bg-white rounded-2xl p-4 shadow-sm border border-slate-100 active:scale-[0.98] transition-all duration-200 touch-manipulation cursor-pointer hover:shadow-md hover:border-teal-100"
                onClick={() => onOpenModal(event)}
              >
                <div className="flex justify-between items-start mb-2">
                  <div className="flex items-center gap-2">
                    <span className="font-mono text-sm font-bold text-slate-400 bg-slate-50 px-2 py-0.5 rounded">{event.time}</span>
                    <span className={`text-xs font-bold px-2 py-0.5 rounded-full uppercase tracking-wider ${
                      event.type === 'flight' ? 'bg-blue-50 text-blue-600' :
                      event.type === 'hotel' ? 'bg-purple-50 text-purple-600' :
                      event.type === 'food' ? 'bg-orange-50 text-orange-600' :
                      'bg-teal-50 text-teal-600'
                    }`}>
                      {event.type === 'flight' ? 'äº¤é€š' : event.type === 'hotel' ? 'ä½å®¿' : event.type === 'food' ? 'ç¾é£Ÿ' : 'è¡Œç¨‹'}
                    </span>
                  </div>
                  {event.mapQuery && <Icons.MapPin size={16} className="text-slate-300" />}
                </div>
                
                <h3 className="text-lg font-bold text-slate-800 mb-1 flex items-center gap-2">
                  <Icon size={20} className={
                     event.type === 'flight' ? 'text-blue-500' :
                     event.type === 'hotel' ? 'text-purple-500' :
                     event.type === 'food' ? 'text-orange-500' :
                     'text-teal-500'
                  }/>
                  {event.title}
                </h3>
                
                <p className="text-slate-500 text-sm leading-relaxed">{event.desc}</p>
                
                {event.location && (
                  <div className="mt-3 flex items-center text-xs text-slate-400 font-medium">
                    <Icons.MapPin size={12} className="mr-1" />
                    {event.location}
                    <Icons.ChevronRight size={12} className="ml-auto opacity-50" />
                  </div>
                )}
              </div>
            </div>
          );
        };

        const HotelBanner = ({ hotel }) => (
          <div className="sticky top-0 z-30 bg-white/90 backdrop-blur-md border-b border-slate-100 shadow-sm px-4 py-3 mb-6 -mx-4">
            <div className="flex items-start gap-3">
              <div className="p-2 bg-indigo-50 rounded-lg text-indigo-600">
                <Icons.Hotel size={20} />
              </div>
              <div className="flex-1 min-w-0">
                <div className="text-xs font-bold text-slate-400 uppercase tracking-wider mb-0.5">æœ¬æ—¥ä½å®¿</div>
                <h3 className="text-sm font-bold text-slate-800 truncate">{hotel.name}</h3>
                <div className="flex items-center gap-2 mt-1 text-xs text-slate-500">
                   <div className="flex items-center gap-1">
                     <Icons.Clock size={12} className="text-teal-600" />
                     <span className="font-medium text-slate-700">å…¥ä½:</span> {hotel.checkIn}
                   </div>
                   <div className="w-px h-3 bg-slate-300"></div>
                   <div className="flex items-center gap-1">
                     <span className="font-medium text-slate-700">é€€æˆ¿:</span> {hotel.checkOut}
                   </div>
                </div>
              </div>
              {hotel.locationQuery && (
                 <a 
                 href={`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(hotel.locationQuery)}`}
                 target="_blank" 
                 rel="noreferrer"
                 className="p-2 text-slate-400 hover:text-teal-600 transition-colors"
               >
                 <Icons.MapPin size={20} />
               </a>
              )}
            </div>
            {hotel.note && (
              <div className="mt-2 text-[10px] bg-orange-50 text-orange-700 px-2 py-1 rounded flex items-center gap-1">
                <Icons.Info size={10} />
                {hotel.note}
              </div>
            )}
          </div>
        );

        function App() {
          const [activeDay, setActiveDay] = useState(1);
          const [selectedEvent, setSelectedEvent] = useState(null);
          const [isMapMode, setIsMapMode] = useState(false);
          const [showWelcome, setShowWelcome] = useState(false);
          const [welcomeStatus, setWelcomeStatus] = useState('before'); // 'before' | 'ended'
          const [countdown, setCountdown] = useState('');

          const currentDayData = itineraryData.find(d => d.day === activeDay);

          // æ™ºèƒ½æ—¥æœŸåˆ¤æ–·èˆ‡å€’æ•¸
          useEffect(() => {
            const updateTime = () => {
                const now = new Date();
                // const now = new Date(2025, 10, 30); // æ¸¬è©¦ç”¨æ—¥æœŸ

                const startDate = new Date(2025, 10, 29, 14, 0, 0); // 2025/11/29 14:00
                const endDate = new Date(2025, 11, 6, 23, 59, 59);    // 2025/12/06 23:59

                if (now < startDate) {
                    // æœªé–‹å§‹ -> è¨ˆç®—å€’æ•¸
                    const diff = startDate - now;
                    const days = Math.floor(diff / (1000 * 60 * 60 * 24));
                    const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                    const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
                    const seconds = Math.floor((diff % (1000 * 60)) / 1000);
                    setCountdown(`${days}å¤© ${hours}æ™‚ ${minutes}åˆ† ${seconds}ç§’`);
                    setWelcomeStatus('before');
                    setShowWelcome(true);
                } else if (now > endDate) {
                    // å·²çµæŸ
                    setWelcomeStatus('ended');
                    setShowWelcome(true);
                    setActiveDay(1); // é è¨­é¡¯ç¤ºç¬¬ä¸€å¤©
                } else {
                    // æ—…ç¨‹é€²è¡Œä¸­ -> è¨ˆç®—æ˜¯ç¬¬å¹¾å¤©
                    // ç°¡å–®è¨ˆç®—å¤©æ•¸å·®ç•°
                    const startDay = new Date(2025, 10, 29);
                    const todayNormalized = new Date(now.getFullYear(), now.getMonth(), now.getDate());
                    const diffTime = Math.abs(todayNormalized - startDay);
                    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24)) + 1;
                    
                    setActiveDay(diffDays);
                    setShowWelcome(false);
                }
            };

            updateTime();
            const timer = setInterval(updateTime, 1000); // æ¯ç§’æ›´æ–°

            return () => clearInterval(timer);
          }, []);

          // é¦–æ¬¡è¼‰å…¥æ™‚ä¸è‡ªå‹•è·³è½‰é ‚éƒ¨ï¼Œé¿å…é®æ“‹ Welcome
          useEffect(() => {
            if (!showWelcome) {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
          }, [activeDay, showWelcome]);

          if (showWelcome) {
              return <WelcomeScreen onStart={() => setShowWelcome(false)} countdownText={countdown} status={welcomeStatus} />;
          }

          return (
            <div className="min-h-screen bg-slate-50 font-sans pb-24 animate-in fade-in duration-500">
              {/* Hero Section */}
              <div className="relative bg-gradient-to-br from-teal-500 to-blue-600 text-white pb-8 pt-12 px-6 rounded-b-[2.5rem] shadow-xl overflow-hidden">
                <div className="absolute top-0 right-0 p-12 opacity-10 transform rotate-12 translate-x-8 -translate-y-8">
                  <Icons.Plane size={120} />
                </div>
                
                <div className="relative z-10">
                  <div className="flex justify-between items-start mb-6">
                    <div className="space-y-1">
                      <h2 className="text-teal-100 font-medium text-sm tracking-widest uppercase">Travel Itinerary</h2>
                      <h1 className="text-3xl font-bold">å¯Œåœ‹å³¶ä¹‹æ—…</h1>
                      <div className="flex items-center gap-2 text-teal-50 text-sm mt-1">
                        <Icons.Calendar size={14} />
                        2025.11.29 - 12.06
                      </div>
                    </div>
                    <WeatherWidget />
                  </div>
                  
                  <div className="bg-white/10 backdrop-blur-md rounded-2xl p-4 border border-white/20">
                     <div className="text-xs text-teal-100 uppercase tracking-wider mb-1">Day {activeDay} / 8</div>
                     <div className="text-xl font-bold flex items-center gap-2">
                       {currentDayData.title}
                     </div>
                  </div>
                </div>
              </div>

              {/* Main Content */}
              <div className="px-4 mt-6 max-w-lg mx-auto">
                
                {/* Daily Hotel Info */}
                <HotelBanner hotel={currentDayData.hotel} />

                {/* Vertical Timeline */}
                <div className="relative">
                  {currentDayData.events.map((event, index) => (
                    <TimelineItem 
                      key={index} 
                      event={event} 
                      isLast={index === currentDayData.events.length - 1}
                      onOpenModal={setSelectedEvent}
                    />
                  ))}
                </div>
              </div>

              {/* Bottom Navigation Tabs */}
              <div className="fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 shadow-[0_-4px_20px_rgba(0,0,0,0.05)] z-40 pb-safe">
                <div className="flex overflow-x-auto hide-scrollbar py-3 px-4 gap-3 snap-x">
                   {/* Map Toggle Button */}
                   <button 
                    onClick={() => setIsMapMode(true)}
                    className="flex-shrink-0 flex flex-col items-center justify-center px-4 py-2 rounded-xl bg-orange-100 text-orange-700 border border-orange-200 snap-center min-w-[80px]"
                  >
                    <Icons.Map size={18} className="mb-1" />
                    <span className="text-xs font-bold">åœ°åœ–</span>
                  </button>

                  {itineraryData.map((day) => (
                    <DayTab 
                      key={day.day} 
                      day={day.day} 
                      date={day.date} 
                      isActive={activeDay === day.day} 
                      onClick={() => setActiveDay(day.day)} 
                    />
                  ))}
                </div>
              </div>

              {/* Detail Modal */}
              <Modal 
                isOpen={!!selectedEvent} 
                onClose={() => setSelectedEvent(null)} 
                title={selectedEvent?.title}
                mapQuery={selectedEvent?.mapQuery}
              >
                {selectedEvent && (
                  <div className="space-y-4">
                    <div className="flex items-center gap-3 text-slate-600">
                        {/* ä½¿ç”¨ IIFE æˆ–ç›´æ¥æ¸²æŸ“è©²åœ–ç¤º */}
                        {React.createElement(selectedEvent.icon, { size: 24, className: "text-teal-500" })}
                      <span className="font-bold text-lg">{selectedEvent.location}</span>
                    </div>
                    
                    <div className="bg-slate-50 p-4 rounded-xl border border-slate-100">
                      <h4 className="text-xs font-bold text-slate-400 uppercase mb-2">è©³ç´°è³‡è¨Š</h4>
                      <p className="text-slate-700 text-sm leading-relaxed">
                        {selectedEvent.desc}
                      </p>
                    </div>

                    {selectedEvent.detail && (
                      <div className="grid grid-cols-1 gap-2">
                        {Object.entries(selectedEvent.detail).map(([key, value]) => (
                          <div key={key} className="flex items-start gap-2 text-sm">
                             <div className="w-1.5 h-1.5 rounded-full bg-teal-400 mt-2 flex-shrink-0" />
                             <span className="text-slate-600">{value}</span>
                          </div>
                        ))}
                      </div>
                    )}
                  </div>
                )}
              </Modal>

              {/* Map Mode Modal */}
              <Modal 
                isOpen={isMapMode} 
                onClose={() => setIsMapMode(false)} 
                title="è¡Œç¨‹åœ°æ¨™ç¸½è¦½"
              >
                <div className="space-y-2 max-h-[60vh] overflow-y-auto">
                  <p className="text-sm text-slate-500 mb-4">é»æ“Šä¸‹æ–¹åœ°é»é–‹å•Ÿ Google Maps å°èˆª</p>
                  {[
                     { name: "å¡”å¸Œæé£¯åº—", q: "Tahiti Central Hotel Phu Quoc" },
                     { name: "å¯Œåœ‹å³¶å¤œå¸‚", q: "Phu Quoc Night Market" },
                     { name: "Kingkong Mart", q: "Kingkong Mart Phu Quoc" },
                     { name: "Sao Beach", q: "Sao Beach Phu Quoc" },
                     { name: "æ—¥è½å°é®", q: "Sunset Town Phu Quoc" },
                     { name: "æ–°ä¸–ç•Œåº¦å‡æ‘", q: "New World Phu Quoc Resort" },
                     { name: "é¦™å³¶çºœè»Šç«™", q: "An Thoi Cable Car Station" },
                     { name: "è¦ªå»æ©‹", q: "Kiss Bridge Phu Quoc" },
                     { name: "æº«å¾·å§† Grand World", q: "Wyndham Garden Grandworld Phu Quoc" },
                     { name: "çç éŠæ¨‚åœ’", q: "VinWonders Phu Quoc" },
                     { name: "é‡ç”Ÿå‹•ç‰©åœ’", q: "Vinpearl Safari Phu Quoc" },
                     { name: "é•·é ¸é¹¿é¤å»³", q: "Giraffe Restaurant Phu Quoc" },
                     { name: "Madame Thao (åŒ—éƒ¨ç¾é£Ÿ)", q: "Madame Thao Grand World Phu Quoc" },
                     { name: "Bach Giai (åŒ—éƒ¨ä¸­é¤)", q: "Bach Giai Restaurant Phu Quoc" },
                  ].map((place, i) => (
                    <a 
                      key={i}
                      href={`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(place.q)}`}
                      target="_blank"
                      rel="noreferrer"
                      className="flex items-center justify-between p-3 bg-slate-50 rounded-lg hover:bg-teal-50 border border-slate-100 transition-colors text-slate-700"
                    >
                      <span className="font-medium">{place.name}</span>
                      <Icons.MapPin size={16} className="text-teal-500" />
                    </a>
                  ))}
                </div>
              </Modal>
            </div>
          );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>

